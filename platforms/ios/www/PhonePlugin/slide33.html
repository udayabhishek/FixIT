<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Screen 33</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="build/css/intlTelInput.css">
    <link rel="stylesheet" href="build/css/demo.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    
    <script type="text/javascript">
    
    function validateFirstName() 
    {
    	// var emailRegex = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    	 var regx = /^[A-Za-z][-a-zA-Z ]+$/;
    	 var fname = document.myform.Name.value;
    	
    	 /*  var lname = document.myform.LastName.value;
    	 var femail = document.myform.Email.value;
    	 var fpassword = document.myform.Password.value;
    	 var fphoneno = document.myform.phoneno.value;
    	  
    	 var stripped = fphoneno.replace(/[\(\)\.\-\ ]/g, '');
    	 */
    	 // validation for first name   
    	 if( fname == "" )
    	   {
	    	     document.myform.Name.focus() ;
	    	     //alert("Enter First Name");
	    	  	 document.getElementById("errorBox_firstname").innerHTML = "Enter First Name";
	    	     return false;
    	   }
    	
    	 else if(fname.length < 3 || fname.length > 50 )
    		 {
	    		 document.myform.Name.focus() ;
	    	     //alert("Enter First Name");
	    	  	 document.getElementById("errorBox_firstname").innerHTML = "First Name must contain 3 to 50 characters";
	    	     return false;
    		 }
    	 else if(!regx.test(fname))
    	 	 {
	    		 document.myform.Name.focus() ;
	    	     //alert("Enter First Name");
	    	  	 document.getElementById("errorBox_firstname").innerHTML = "First Name must contain characters only.";
	    	     return false;
    		 }
         else
         	{
         
         		 document.getElementById("errorBox_firstname").style.display='none';
         		 
         	}
    	 return true;

    }
    
  //Validation for last name
    function validateLastName() 
    {
    	
    	var regx = /^[A-Za-z][-a-zA-Z ]+$/;
    	var lname = document.myform.LastName.value;
    	 if( lname == "" )
	    	 {
	    	     document.myform.LastName.focus() ;
	    	     //alert("Enter Last Name");
	    	     document.getElementById("errorBox_lastname").innerHTML = "Enter Last Name";
	    	     return false;
	    	 }
    	 else if(lname.length < 2 || lname.length > 50 )
		    {
	    		 document.myform.LastName.focus() ;
	    	     //alert("Enter First Name");
	    	  	 document.getElementById("errorBox_lastname").innerHTML = "Last Name must contain 2 to 50 characters";
	    	     return false;
		 	}
	     else if(!regx.test(lname))
		    {
				 document.myform.LastName.focus() ;
			     //alert("Enter First Name");
			  	 document.getElementById("errorBox_lastname").innerHTML = "Last Name must contain characters only.";
			     return false;
		    }
	     else
      		{
      
      		 	document.getElementById("errorBox_lastname").style.display='none';
      		}
    	 return true;
    }
    //validate Email id
    $(document).ready(function(){ //newly added 
	   $('#emailid').blur(function() {
		   validateEmailId();
			  // alert('in');
		       //var emailVal = $('#emailid').val(); // assuming this is a input text field
		      // alert('email id' + emailVal);
		      
		   });
	   });  
    function validateEmailId() 
    {
    	var femail = document.myform.Email.value;
    	var emailRegex = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    	/*  
 */		
    	 if (femail == "" )
    	    {
		    	  document.myform.Email.focus();
		    	  //alert("Enter Email id");
		    	  document.getElementById("errorBox_email_id").innerHTML = "Enter Email ID";
		    	  return false;
    	    }
    	 else if(!emailRegex.test(femail))
    	    {
		    	  document.myform.Email.focus();
		    	  //alert("Enter Valid Email");
		    	  document.getElementById("errorBox_email_id").innerHTML = "Enter Valid Email ID";
		    	  return false;
    	    }
    	 else
   			{
    		 //var image='<img src="img\ajax_clock_small.gif">Loading</img>';
    		 document.getElementById("errorBox_email_id").innerHTML = "Loading...";
    		 $.post('http://in.shikshainfotech.com/FixIT/houseowner_email_exist.php' , {'email' :  femail}, function(data) {
		    	   //alert(data);
		           if(data=="exist")
		           {
		        	  // alert("hurreee");
		        	// $(errorBox_email_id).html("Email Id Already Exist");
		        	  document.getElementById("errorBox_email_id").innerHTML="Email Id Already Exist";
		           		//document.getElementById("errorBox_password").innerHTML = "ealready exists";
		        	   return false;
		           }
		           else{
		        	   document.getElementById("errorBox_email_id").style.display='none';
		           }
		          /*  else {
		        	  // alert("don't go");
		        	   window.location = "slide34.html";
		           }   *//*  $('#myform').submit();*/ 
		       });
   		 		 
   		 		
   			}
    	 
    	 return true;
    }
    	//validate Password
    function validatePassword() 
    {
    	var fpassword = document.myform.Password.value;	
    	 if(fpassword == "")
    	    {
		    	   document.myform.Password.focus();
		    	   //alert("Enter Password");
		    	   document.getElementById("errorBox_password").innerHTML = "Enter Password";
		    	   return false;
    	    }
    	 
    	 else if(fpassword.length < 6)
    		{
	    		   document.myform.Password.focus();
	        	   //alert("Enter Password");
	        	   document.getElementById("errorBox_password").innerHTML = "Password must contain 6 characters";
	        	   return false;
    		}
    	 else
			{

		 		   document.getElementById("errorBox_password").style.display='none';
		 		 
			}
    	 return true;
    }  
    	  //Validate Phone number 
    function validatePhoneNumber() 
    {
    	var fphoneno = document.myform.phoneno.value;
   	  	var stripped = fphoneno.replace(/[\(\)\.\-\ ]/g, '');	  
    	 if(fphoneno == "")
    	   {
		    	   document.myform.Password.focus();
		    	   //alert("Enter Phone Number");
		    	   document.getElementById("errorBox_phoneno").innerHTML = "Enter Mobile Number";
		    	   return false;
		   }
    	  
    	 else if (isNaN(parseInt(stripped)))
    	   {
	    		   document.getElementById("errorBox_phoneno").innerHTML = "Enter valid phone number";
	    	       return false;
    	    } 
    	 else if (!(stripped.length == 10)) 
    	    {
	    	    	document.getElementById("errorBox_phoneno").innerHTML= "Enter valid phone number";
	    	        return false;
    	    }
    	   
    	 else
			{

		 		   document.getElementById("errorBox_phoneno").style.display='none';
		 		  
			}
    	 return true;
    }
   
   	 	  
    function validateAllField() 
    {  
     var emailRegex = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
   	 var regx = /^[A-Za-z][-a-zA-Z ]+$/;
   	 var fname = document.myform.Name.value;
   	 var lname = document.myform.LastName.value;
   	 var femail = document.myform.Email.value;
   	 var fpassword = document.myform.Password.value;
   	 var fphoneno = document.myform.phoneno.value;
   	 var stripped = fphoneno.replace(/[\(\)\.\-\ ]/g, '');
   	 
 
    	  //All fields are filled
    	   if(validateFirstName() && validateLastName() && validateEmailId() && validatePassword() && validatePhoneNumber())
    	  
    		{ 
    		  if(fname != '' && lname != '' && femail != '' && fpassword != '' && fphoneno != '' )
    	    	{
		    	 
		    	   
		    	   sessionStorage.setItem('firstname', fname);
		    	   sessionStorage.setItem('lastname', lname);
		    	   sessionStorage.setItem('emailid', femail);
		    	   sessionStorage.setItem('password', fpassword);
		    	   sessionStorage.setItem('phoneNumber', fphoneno);
		    	   
		    	   //window.location = "email_check($('#emailid').val())" ;
		    	   
		    
		    	   window.location = "slide34.html";
		    	   
    	    	}
		    	  
    	  }
    	
    	 
    	  
    }
    
    </script>
    
    <script>
    $('#firstname').on('keyup blur',function(){ 
    var node = $(this);
    node.val(node.val().replace(/[^A-Za-z]/g,'') ); }
);
    </script>

     <script>
    $('#lastname').on('keyup blur',function(){ 
    var node = $(this);
    node.val(node.val().replace(/[^A-Za-z]/g,'') ); }
);
    </script>
    
	 <script>
     $("#phoneNumber").keypress(function(){
        var value = $(this).val();
        value = value.replace(/[^0-9]+/g, '');
        $(this).val(value);
    });
    </script>



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-inverse " role="navigation">
        <!-- <div class="container"> -->
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="col-xs-7 col-sm-6 text-right" style="color:#fff;padding-top: 10px; float-right"><h4>Sign Up</h4></div>
            <div class="col-xs-5 col-sm-6  navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- <a class="navbar-brand" href="#">Start Bootstrap</a> -->

            </div> 
            
            <!-- Collect the nav links, forms, and other content for toggling-->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">menu1</a>
                    </li>
                    <li>
                        <a href="#">menu2</a>
                    </li>
                    <li>
                        <a href="#">menu3</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
            
        <!-- </div> -->
        <!-- /.container -->
    </nav>


    <section style="color:#000">
      <form name="myform" method="post" onblur="email_check($('#emailid').val())">
      <!-- <div id="errorBox"></div> -->
      <div class="container" style="margin-bottom:50px;">
        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6">
              <label for="exampleInputEmail1">First Name<span>*</span></label>
              <input type="text" name="Name" class="form-control" id="firstname" onchange="return validateFirstName();" onkeyup="this.value=this.value.replace(/[^A-Za-z]/g,'');">
              <div id="errorBox_firstname" class="alertField"></div>
            </div>
            <div class="col-xs-6 col-sm-6">
              <label for="exampleInputPassword1">Last name<span>*</span></label>
              <input type="text" name="LastName" class="form-control" id="lastname" onchange="return validateLastName();" onkeyup="this.value=this.value.replace(/[^A-Za-z]/g,'');">
              <div id="errorBox_lastname" class="alertField"></div>
            </div>
            
          </div>
          
        </div>
        <div class="form-group">
          <label for="Email1">Email address<span>*</span></label>
          <input type="email" name="Email" class="form-control" id="emailid" required  >
          <div id="errorBox_email_id" class="alertField"></div>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Password<span>*</span></label>
          <input type="password" name="Password" class="form-control" id="password" placeholder="Min 6 characters" onchange="return validatePassword();">
          <div id="errorBox_password" class="alertField"></div>
        </div>
        <div class="form-group">
        
          <label for="exampleInputEmail1">Phone Number<span>*</span></label>
          <!-- <img src="img/Screenshots.png" class="img-responsive"> -->
          
          <input type="tel" name="phoneno" class="form-control" id="phoneNumber" onchange="return validatePhoneNumber();" onkeypress="this.value=this.value.replace(/[^0-9]+/g, '');">
          <div id="errorBox_phoneno" class="alertField"></div>
        </div>
      </div>


      <div class="modal-footer navbar-fixed-bottom" id="button">
        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
          <div class="btn-group" role="group" >
            <button type="button" class="btn btn-default" role="button" onclick="return validateAllField();">Continue</button> 
          <!--  <button type="button" class="btn btn-default" role="button" onclick="location.href='slide34.html';">Continue</button> --> 
          </div>
          <!-- <div class="btn-group" role="group" id="google">
            <button type="button" id="saveImage" class="btn btn-default btn-hover-green" data-action="save" role="button">Log in with <i class="fa fa-google-plus fa-lg"></i></button>
          </div> --> 
        </div>
      </div>

      <!-- <a href="slide18.html"><div id="button"><div class="bottom-button-bg text-center"><button class="btn btn-default">Submit</button></div></div></a>
 -->
      </form>
    </section>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script>
      $(function() {
          $("#selectedFile").on("change", function()
          {
              var files = !!this.files ? this.files : [];
              if (!files.length || !window.FileReader) return; // no file selected, or no FileReader support
       
              if (/^image/.test( files[0].type)){ // only image file
                  var reader = new FileReader(); // instance of the FileReader
                  reader.readAsDataURL(files[0]); // read the local file
       
                  reader.onloadend = function(){ // set image data as background of div
                      $("#imagePreview").css("background-image", "url("+this.result+")");
                  }
              }
          });
      });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="build/js/intlTelInput.js"></script>
    <script>
    
      $("#phoneNumber").intlTelInput({
    	//autoFormat: false,
          //autoHideDialCode: false,
          //defaultCountry: "jp",
          nationalMode: true,
          numberType: "MOBILE",
          //onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
          //preferredCountries: ['cn', 'jp'],
          //responsiveDropdown: true,
          utilsScript: "lib/libphonenumber/build/utils.js"
      });
    </script>
  </body>
</html>